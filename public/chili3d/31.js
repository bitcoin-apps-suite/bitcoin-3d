"use strict";(self.webpackChunkbitcoin_3d=self.webpackChunkbitcoin_3d||[]).push([["31"],{3687:function(e,t,n){n.r(t),n.d(t,{MainWindow:()=>MainWindow,Dialog:()=>Dialog});var i,o=n(4501),a=n(6165),s=n(9734);let Dialog=class Dialog{constructor(){}static show(e,t,n){let i=document.createElement("dialog");document.body.appendChild(i),i.appendChild((0,o.hi)({className:s.root},(0,o.hi)({className:s.title},a.oc.translate(e)??"chili3d"),(0,o.hi)({className:s.content},t),(0,o.hi)({className:s.buttons},(0,o.LI)({textContent:a.oc.translate("common.confirm"),onclick:()=>{i.remove(),n?.(a.Xs.ok)}}),(0,o.LI)({textContent:a.oc.translate("common.cancel"),onclick:()=>{i.remove(),n?.(a.Xs.cancel)}})))),i.showModal()}};var r=n(1166),c=n(9700);let OKCancel=class OKCancel extends HTMLElement{control;constructor(){super(),this.className=c.root,this.append(this.container())}container(){return(0,o.hi)({className:c.container},(0,o.yP)({textContent:new a.Xx("ribbon.group.selection")}),(0,o.hi)({className:c.spacer}),this.buttons())}buttons(){return(0,o.hi)({className:c.panel},this._createIcon("icon-confirm","common.confirm",this._onConfirm),this._createIcon("icon-cancel","common.cancel",this._onCancel))}_createIcon(e,t,n){return(0,o.hi)({className:c.icon,onclick:n},(0,o.YP)({icon:e}),(0,o.yP)({textContent:new a.Xx(t)}))}setControl(e){this.control=e}_onConfirm=()=>{this.control?.success()};_onCancel=()=>{this.control?.cancel()}};customElements.define("ok-cancel",OKCancel);var l=n(4871),d=n(6130),h=n(1176);let TreeItem=class TreeItem extends HTMLElement{document;name;visibleIcon;_node;get node(){return this._node}constructor(e,t){super(),this.document=e,this.onPropertyChanged=(e,t)=>{"visible"===e?(0,o.bQ)(this.visibleIcon,this.getVisibleIcon()):"parentVisible"===e&&this.setVisibleStyle(t[e])},this.onVisibleIconClick=e=>{e.stopPropagation(),a.YW.execute(this.document,"change visible",()=>{this.node.visible=!this.node.visible}),this.document.visual.update()},this._node=t,this.draggable=!0,this.name=(0,o.PS)({className:h.name,textContent:new a.KX(t,"name")}),this.visibleIcon=(0,o.YP)({className:h.icon,icon:this.getVisibleIcon(),onclick:this.onVisibleIconClick}),this.setVisibleStyle(t.parentVisible)}connectedCallback(){this.node.onPropertyChanged(this.onPropertyChanged)}disconnectedCallback(){this.node.removePropertyChanged(this.onPropertyChanged)}onPropertyChanged;setVisibleStyle(e){!0===e?this.visibleIcon.classList.remove(h["parent-hidden"]):this.visibleIcon.classList.add(h["parent-hidden"])}addSelectedStyle(e){this.getSelectedHandler().classList.add(e)}removeSelectedStyle(e){this.getSelectedHandler().classList.remove(e)}dispose(){this.remove(),this.node.removePropertyChanged(this.onPropertyChanged),this.visibleIcon.removeEventListener("click",this.onVisibleIconClick),this.document=null,this._node=null}getVisibleIcon(){return this.node.visible?"icon-eye":"icon-eye-slash"}onVisibleIconClick};var p=n(1132);let TreeGroup=class TreeGroup extends TreeItem{_isExpanded=!0;header;items=(0,o.hi)({className:`${p.container} ${p.left16px}`});expanderIcon;constructor(e,t){super(e,t),this.expanderIcon=(0,o.YP)({icon:this.getExpanderIcon(),className:p.expanderIcon,onclick:this.handleExpanderClick}),this.header=(0,o.hi)({className:`${p.row} ${p.header}`},this.expanderIcon,this.name,this.visibleIcon),super.append((0,o.hi)({className:p.container},this.header,this.items))}get isExpanded(){return this._isExpanded}set isExpanded(e){this._isExpanded=e,(0,o.bQ)(this.expanderIcon,this.getExpanderIcon()),this.items.classList.toggle(p.hide,!this._isExpanded)}getSelectedHandler(){return this.header}dispose(){super.dispose(),this.header.remove(),this.expanderIcon.removeEventListener("click",this.handleExpanderClick)}handleExpanderClick=e=>{e.stopPropagation(),this.isExpanded=!this._isExpanded};getExpanderIcon(){return this._isExpanded?"icon-angle-down":"icon-angle-right"}appendChild(e){return this.items.appendChild(e),e}append(...e){this.items.append(...e)}removeChild(e){return e.parentNode===this.items&&this.items.removeChild(e),e}addItem(...e){return this.items.append(...e),this}insertAfter(e,t){let n=t?t.nextSibling:this.items.firstChild;this.items.insertBefore(e,n)}};customElements.define("tree-group",TreeGroup);let ToolBar=class ToolBar extends HTMLElement{projectView;constructor(e){super(),this.projectView=e,this.newGroup=()=>{a.pS.default.pub("executeCommand","create.folder")},this.expandAll=()=>{this.setExpand(!0)},this.unExpandAll=()=>{this.setExpand(!1)},this.className=d.panel,this.render()}render(){[{icon:"icon-folder-plus",tip:"items.tool.newFolder",command:this.newGroup},{icon:"icon-unexpand",tip:"items.tool.unexpandAll",command:this.unExpandAll},{icon:"icon-expand",tip:"items.tool.expandAll",command:this.expandAll}].forEach(({icon:e,tip:t,command:n})=>this.button(e,t,n))}button(e,t,n){this.append((0,o.a)({title:a.oc.translate(t)},(0,o.YP)({icon:e,className:d.svg,onclick:n})))}newGroup;expandAll;unExpandAll;setExpand(e){let t=this.projectView.activeTree();if(!t)return;let n=this.projectView.activeDocument?.rootNode.firstChild;n&&this.setNodeExpand(t,n,e)}setNodeExpand(e,t,n){let i=e.treeItem(t);i instanceof TreeGroup&&(i.isExpanded=n),a.ND.isLinkedListNode(t)&&t.firstChild&&this.setNodeExpand(e,t.firstChild,n),t.nextSibling&&this.setNodeExpand(e,t.nextSibling,n)}};customElements.define("chili-toolbar",ToolBar);var m=n(492),u=n(780),b=n(7935);let TreeModel=class TreeModel extends TreeItem{constructor(e,t){super(e,t),this.append(this.name,this.visibleIcon),this.classList.add(b.panel)}getSelectedHandler(){return this}};customElements.define("tree-model",TreeModel);let Tree=class Tree extends HTMLElement{document;nodeMap;lastClicked;selectedNodes;dragging;constructor(e){super(),this.document=e,this.nodeMap=new Map,this.selectedNodes=new Set,this.handleSelectionChanged=(e,t,n)=>{n.forEach(e=>{this.nodeMap.get(e)?.removeSelectedStyle(u.selected),this.selectedNodes.delete(e)}),this.setLastClickItem(void 0),t.forEach(e=>{this.selectedNodes.add(e),this.nodeMap.get(e)?.addSelectedStyle(u.selected)}),this.scrollToNode(t)},this.onClick=e=>{if(!this.canSelect())return;let t=this.getTreeItem(e.target)?.node;t&&(e.stopPropagation(),e.shiftKey?this.handleShiftClick(t):this.document.selection.setSelection([t],e.ctrlKey),this.setLastClickItem(t))},this.onDragLeave=e=>{if(!this.canDrop(e))return},this.onDragOver=e=>{this.canDrop(e)&&(e.preventDefault(),e.dataTransfer.dropEffect="move")},this.onDrop=e=>{e.preventDefault(),e.stopPropagation();let t=this.getTreeItem(e.target)?.node;void 0!==t&&a.YW.execute(this.document,"move node",()=>{let e=a.ND.isLinkedListNode(t),n=e?t:t.parent,i=e?void 0:t;this.dragging?.forEach(e=>{e.parent?.move(e,n,i)}),this.dragging=void 0})},this.onDragStart=e=>{e.stopPropagation();let t=this.getTreeItem(e.target)?.node;this.dragging=a.ND.findTopLevelNodes(this.selectedNodes),t&&!a.ND.containsDescendant(this.selectedNodes,t)&&this.dragging.push(t)},this.className=u.panel,this.initializeTree(e)}initializeTree(e){this.addAllNodes(e,this,e.rootNode),this.addEvents(this)}connectedCallback(){this.document.addNodeObserver(this),a.pS.default.sub("selectionChanged",this.handleSelectionChanged)}disconnectedCallback(){this.document.removeNodeObserver(this),a.pS.default.remove("selectionChanged",this.handleSelectionChanged)}treeItem(e){return this.nodeMap.get(e)}dispose(){this.lastClicked=void 0,this.dragging=void 0,this.nodeMap.forEach(e=>e.dispose()),this.nodeMap.clear(),this.selectedNodes.clear(),this.removeEvents(this),this.document.removeNodeObserver(this),a.pS.default.remove("selectionChanged",this.handleSelectionChanged),this.document=null}handleNodeChanged(e){this.ensureHasHTML(e),e.forEach(e=>{let t=this.nodeMap.get(e.node);if(t?.remove(),!t||!e.newParent)return;let n=this.nodeMap.get(e.newParent)||this.createAndMapParent(e.newParent);if(n instanceof TreeGroup){let i=e.newPrevious?this.nodeMap.get(e.newPrevious):null;n.insertAfter(t,i??null)}})}createAndMapParent(e){let t=this.createHTMLElement(this.document,e);return this.nodeMap.set(e,t),t}handleSelectionChanged;ensureHasHTML(e){e.forEach(e=>{this.nodeMap.has(e.node)||this.nodeMap.set(e.node,this.createHTMLElement(this.document,e.node))})}scrollToNode(e){let t=e.at(0);t&&(this.expandParents(t),this.nodeMap.get(t)?.scrollIntoView({block:"nearest",behavior:"smooth"}))}expandParents(e){let t=e.parent;for(;t;){let e=this.nodeMap.get(t);e&&!e.isExpanded&&(e.isExpanded=!0),t=t.parent}}addAllNodes(e,t,n){let i=this.createHTMLElement(e,n);this.nodeMap.set(n,i),t.appendChild(i);let o=n.firstChild;o&&this.addAllNodes(e,i,o),n.nextSibling&&this.addAllNodes(e,t,n.nextSibling)}createHTMLElement(e,t){let n;if(a.ND.isLinkedListNode(t))n=new TreeGroup(e,t);else if(t instanceof a.S3)n=new TreeModel(e,t);else throw Error("unknown node");return n}addEvents(e){e.addEventListener("dragstart",this.onDragStart),e.addEventListener("dragover",this.onDragOver),e.addEventListener("dragleave",this.onDragLeave),e.addEventListener("drop",this.onDrop),e.addEventListener("click",this.onClick)}removeEvents(e){e.removeEventListener("dragstart",this.onDragStart),e.removeEventListener("dragover",this.onDragOver),e.removeEventListener("dragleave",this.onDragLeave),e.removeEventListener("drop",this.onDrop),e.removeEventListener("click",this.onClick)}getTreeItem(e){if(null!==e)return e instanceof TreeItem?e:this.getTreeItem(e.parentElement)}onClick;handleShiftClick(e){if(this.lastClicked){let t=a.ND.getNodesBetween(this.lastClicked,e);this.document.selection.setSelection(t,!1)}}onDragLeave;onDragOver;canSelect(){return this.document.visual.eventHandler instanceof m.t||this.document.visual.eventHandler instanceof m.k8&&this.document.visual.eventHandler.shapeType===a.ax.Shape}setLastClickItem(e){void 0!==this.lastClicked&&this.nodeMap.get(this.lastClicked)?.removeSelectedStyle(u.current),this.lastClicked=e,void 0!==e&&(this.nodeMap.get(e)?.addSelectedStyle(u.current),this.document.currentNode=a.ND.isLinkedListNode(e)?e:e.parent)}canDrop(e){let t=this.getTreeItem(e.target)?.node;if(void 0===t||this.dragging?.includes(t))return!1;let n=t.parent;for(;void 0!==n;){if(this.dragging?.includes(n))return!1;n=n.parent}return!0}onDrop;onDragStart};customElements.define("ui-tree",Tree);let ProjectView=class ProjectView extends HTMLElement{_documentTreeMap=new Map;_activeDocument;get activeDocument(){return this._activeDocument}panel;constructor(e){super(),this.classList.add(l.root,e.className),this.panel=(0,o.hi)({className:l.itemsPanel}),a.pS.default.sub("activeViewChanged",this.handleActiveViewChanged),a.pS.default.sub("documentClosed",this.handleDocumentClosed),this.render()}render(){this.append((0,o.hi)({className:l.headerPanel},(0,o.yP)({className:l.header,textContent:new a.Xx("items.header")}),new ToolBar(this)),this.panel)}activeTree(){if(this._activeDocument)return this._documentTreeMap.get(this._activeDocument)}handleDocumentClosed=e=>{let t=this._documentTreeMap.get(e);t&&(t.remove(),t.dispose(),this._documentTreeMap.delete(e))};handleActiveViewChanged=e=>{if(this._activeDocument!==e?.document&&(this._documentTreeMap.get(this._activeDocument)?.remove(),this._activeDocument=e?.document,e)){let t=this._documentTreeMap.get(e.document);t||(t=new Tree(e.document),this._documentTreeMap.set(e.document,t)),this.panel.append(t)}}};customElements.define("chili-project-view",ProjectView);var A=n(4709),f=n(7418),g=n(4009);let PropertyBase=class PropertyBase extends HTMLElement{objects;constructor(e){if(super(),this.objects=e,this.className=g.panel,0===e.length)throw Error("there are no objects")}};let ArrayValueConverter=class ArrayValueConverter{objects;property;converter;constructor(e,t,n){this.objects=e,this.property=t,this.converter=n}convert(e){return a.x4.ok(this.getDefaultValue())}convertBack(e){throw Error("Method not implemented.")}getValueString(e){let t=e[this.property.name],n=this.converter?.convert(t);return n?.isOk?n.value:String(t)}getDefaultValue(){let e=this.objects.map(this.getValueString.bind(this));return 1===new Set(e).size?e[0]:""}};let InputProperty=class InputProperty extends PropertyBase{document;property;converter;constructor(e,t,n,i){super(t),this.document=e,this.property=n,this.handleBlur=e=>{this.setValue(e.target)},this.handleKeyDown=e=>{e.stopPropagation(),this.converter&&"Enter"===e.key&&this.setValue(e.target)},this.setValue=e=>{if(this.isReadOnly())return;let t=this.converter?.convertBack?.(e.value);if(!t?.isOk)return void a.pS.default.pub("showToast","error.default:{0}",t?.error);a.YW.execute(this.document,"modify property",()=>{this.objects.forEach(e=>{e[this.property.name]=t.value}),this.document.visual.update()})},this.converter=i??this.getConverter();let s=new ArrayValueConverter(t,n,this.converter);this.append((0,o.hi)({className:A.panel},(0,o.yP)({className:A.propertyName,textContent:new a.Xx(n.display)}),(0,o.qH)({className:f.box,value:new a.KX(t[0],n.name,s),readOnly:this.isReadOnly(),onkeydown:this.handleKeyDown,onblur:this.handleBlur})))}isReadOnly(){let e=Object.getOwnPropertyDescriptor(this.objects[0],this.property.name);if(!e){let t=Object.getPrototypeOf(this.objects[0]);for(;(0,a.Cy)(t)&&!(e=Object.getOwnPropertyDescriptor(t,this.property.name));)t=Object.getPrototypeOf(t)}return e?.set===void 0||void 0===this.converter&&"string"!=typeof this.objects[0][this.property.name]}handleBlur;handleKeyDown;setValue;getConverter(){let e=this.objects[0][this.property.name].constructor.name,t={[a.vY.name]:()=>new o.S6,[a.XY.name]:()=>new o.pr,[String.name]:()=>new o.B0,[Number.name]:()=>new o.vU};return t[e]?.()}};customElements.define("chili-input-property",InputProperty);let MatrixProperty=class MatrixProperty extends PropertyBase{document;first;constructor(e,t,n){super(t),this.document=e,this.onPropertyChanged=e=>{"transform"===e&&this.objects.forEach(e=>{e!==this.first&&(e.transform=this.first.transform)})},this.first=t[0],this.className=n,this.append(new InputProperty(e,[this.first],{name:"transform",display:"transform.translation"},new TranslationConverter(this.first)),new InputProperty(e,[this.first],{name:"transform",display:"transform.scale"},new ScalingConverter(this.first)),new InputProperty(e,[this.first],{name:"transform",display:"transform.rotation"},new RotateConverter(this.first)))}onPropertyChanged;connectedCallback(){this.first.onPropertyChanged(this.onPropertyChanged)}disconnectedCallback(){this.first.removePropertyChanged(this.onPropertyChanged)}};customElements.define("matrix-property",MatrixProperty);let MatrixConverter=class MatrixConverter{geometry;constructor(e){this.geometry=e}convert(e){let[t,n,i]=this.convertFrom(e);return a.x4.ok(`${t.toFixed(6)}, ${n.toFixed(6)}, ${i.toFixed(6)}`)}convertBack(e){let t=e.split(",").map(Number).filter(e=>!isNaN(e));if(3!==t.length)return a.x4.err("invalid number of values");let n={x:t[0],y:t[1],z:t[2]},i=this.convertTo(n);return a.x4.ok(i)}};let TranslationConverter=class TranslationConverter extends MatrixConverter{convertFrom(e){let t=e.translationPart();return[t.x,t.y,t.z]}convertTo(e){let t=this.geometry.transform.getEulerAngles(),n=this.geometry.transform.getScale();return a.yG.createFromTRS(e,t,n)}};let ScalingConverter=class ScalingConverter extends MatrixConverter{convertFrom(e){let t=e.getScale();return[t.x,t.y,t.z]}convertTo(e){let t=this.geometry.transform.getEulerAngles(),n=this.geometry.transform.translationPart();return a.yG.createFromTRS(n,t,e)}};let RotateConverter=class RotateConverter extends MatrixConverter{convertFrom(e){let t=e.getEulerAngles();return[180*t.pitch/Math.PI,180*t.yaw/Math.PI,180*t.roll/Math.PI]}convertTo(e){let t=this.geometry.transform.getScale(),n=this.geometry.transform.translationPart();return a.yG.createFromTRS(n,{pitch:e.x*Math.PI/180,yaw:e.y*Math.PI/180,roll:e.z*Math.PI/180},t)}};var v=n(1503);let CheckProperty=class CheckProperty extends PropertyBase{document;property;constructor(e,t,n){super(t),this.document=e,this.property=n,this.appendChild((0,o.hi)({className:A.panel},(0,o.yP)({className:A.propertyName,textContent:new a.Xx(n.display)}),(0,o.qH)({type:"checkbox",checked:new a.KX(t[0],n.name),onclick:()=>{let i=!t[0][n.name];a.YW.execute(e,"modify property",()=>{t.forEach(e=>{e[n.name]=i}),e.visual.update()})}})))}};customElements.define("chili-check-property",CheckProperty);var C=n(2958);let ColorProperty=class ColorProperty extends PropertyBase{document;property;converter;input;constructor(e,t,n){super(t),this.document=e,this.property=n,this.converter=new o.No,this.setColor=e=>{let t=e.target.value,n=this.converter.convertBack(t).value;if(void 0===n)return void a.pS.default.pub("showToast","toast.converter.invalidColor");a.YW.execute(this.document,"change color",()=>{this.objects.forEach(e=>{e[this.property.name]=n})})},this.input=this.createInput(t[0]),this.appendChild(this.createPanel())}createInput(e){return(0,o.qH)({className:C.color,type:"color",value:new a.KX(e,this.property.name,this.converter),onchange:this.setColor})}createPanel(){return(0,o.hi)({className:A.panel},(0,o.PS)({className:A.propertyName,textContent:new a.Xx(this.property.display)}),this.input)}disconnectedCallback(){this.input.removeEventListener("onchange",this.setColor)}setColor};customElements.define("chili-color-property",ColorProperty);var w=n(7604),y=n(975);let TextureProperty=class TextureProperty extends o.xH{document;texture;constructor(e,t,n){super(t),this.document=e,this.texture=n,this.selectTexture=async()=>{let e=await (0,a.vZ)(".png, .jpg, .jpeg",!1,"readAsDataURL");this.texture.image=e.value[0].data},this.classList.add(y.root),this.append(this.render())}render(){let e=a.Z9.getProperties(this.texture).filter(e=>"image"!==e.name).map(e=>findPropertyControl(this.document,[this.texture],e));return(0,o.hi)({className:y.expander},(0,o.hi)({className:y.properties},...e),(0,o.hi)({className:y.image},(0,o.lv)({style:{backgroundImage:new a.wK(this.texture,"image",new w.C),backgroundSize:"contain"},onclick:this.selectTexture}),(0,o.YP)({icon:"icon-times",onclick:()=>{this.texture.image=""}})))}selectTexture};customElements.define("texture-editor",TextureProperty);var x=n(1868);let MaterialProperty=class MaterialProperty extends PropertyBase{document;property;materials;constructor(e,t,n){super(t),this.document=e,this.property=n,this.materials=this.materialCollection(t[0].materialId),this.append((0,o.hJ)({sources:this.materials,template:(t,n)=>this.materialControl(e,t,n)}))}materialControl(e,t,n){return(0,o.hi)({className:x.material},(0,o.hi)((0,o.yP)({textContent:new a.Xx("common.material")}),this.materials.length>1?(0,o.yP)({textContent:` ${n+1}`}):""),(0,o.LI)({textContent:t.name,style:{backgroundColor:new a.KX(t,"color",new o.No),backgroundImage:new a.wK(t,"map.image",new o.C8),backgroundBlendMode:"multiply",backgroundSize:"cover",cursor:"pointer"},onclick:i=>{a.pS.default.pub("editMaterial",e,t,e=>{this.setMaterial(i,e,n)})}}))}setMaterial(e,t,n){a.YW.execute(this.document,"change material",()=>{this.materials.replace(n,t),this.objects.forEach(e=>{this.property.name in e&&(e.materialId=this.materials.length>1?e.materialId.toSpliced(n,1,t.id):t.id)})}),this.document.visual.update()}materialCollection(e){let findMaterial=e=>this.document.materials.find(t=>t.id===e),t=Array.isArray(e)?e.map(findMaterial).filter(Boolean):[findMaterial(e)].filter(Boolean);return new a.Vn(...t)}};function findPropertyControl(e,t,n,i){if(void 0===n||0===t.length)return"";if("color"===n.type)return new ColorProperty(e,t,n);if("materialId"===n.type&&canShowMaterialProperty(t,n))return new MaterialProperty(e,t,n);let o=t[0][n.name];return o instanceof a.xE?new TextureProperty(e,n.display,o):["object","string","number"].includes(typeof o)?new InputProperty(e,t,n,i):"boolean"==typeof o?new CheckProperty(e,t,n):(a.Yd.warn(`Property ${n.name} not found in ${Object.getPrototypeOf(t[0]).constructor.name}`),"")}function canShowMaterialProperty(e,t){return 0!==e.length&&(1===e.length||e.every(n=>n[t.name]===e[0][t.name]))}customElements.define("chili-material-property",MaterialProperty);let PropertyView=class PropertyView extends HTMLElement{panel=(0,o.hi)({className:v.panel});constructor(e){super(),this.classList.add(e.className,v.root),this.append((0,o.PS)({className:v.header,textContent:new a.Xx("properties.header")}),this.panel),a.pS.default.sub("showProperties",this.handleShowProperties),a.pS.default.sub("activeViewChanged",this.handleActiveViewChanged)}handleActiveViewChanged=e=>{if(e){let t=e.document.selection.getSelectedNodes();this.handleShowProperties(e.document,t)}};handleShowProperties=(e,t)=>{this.removeProperties(),0!==t.length&&(this.addModel(e,t),this.addGeometry(t,e))};removeProperties(){for(;this.panel.lastElementChild;)this.panel.removeChild(this.panel.lastElementChild)}addModel(e,t){if(0===t.length)return;let n=[];t[0]instanceof a.YT?n=a.Z9.getProperties(Object.getPrototypeOf(t[0])).map(n=>findPropertyControl(e,t,n)):t[0]instanceof a.NB&&(n=a.Z9.getOwnProperties(a.NB.prototype).map(n=>findPropertyControl(e,t,n))),this.panel.append((0,o.hi)({className:v.properties},...n))}addGeometry(e,t){let n=e.filter(e=>e instanceof a.S3||e instanceof a.Gw);0!==n.length&&this.isAllElementsOfTypeFirstElement(n)&&(this.addTransform(t,n),this.addParameters(n,t))}addTransform(e,t){let n=new o.xH("common.matrix");this.panel.append(n),n.contenxtPanel.append(new MatrixProperty(e,t,v.properties))}addParameters(e,t){let n=e.filter(e=>e instanceof a.S3);if(0===n.length||!this.isAllElementsOfTypeFirstElement(n))return;let i=new o.xH(n[0].display());i.contenxtPanel.append(...a.Z9.getProperties(Object.getPrototypeOf(n[0]),a.NB.prototype).map(e=>findPropertyControl(t,n,e))),this.panel.append(i)}isAllElementsOfTypeFirstElement(e){if(e.length<=1)return!0;let t=Object.getPrototypeOf(e[0]).constructor;for(let n=1;n<e.length;n++)if(Object.getPrototypeOf(e[n]).constructor!==t)return!1;return!0}};customElements.define("chili-property-view",PropertyView);let P=1;let MaterialDataContent=class MaterialDataContent extends a.y${document;callback;get editingMaterial(){return this.getPrivateValue("editingMaterial")}set editingMaterial(e){this.setProperty("editingMaterial",e)}constructor(e,t,n){super(),this.document=e,this.callback=t,this.setPrivateValue("editingMaterial",n)}deleteMaterial(){if(this.document.materials.length<=1)return;let e=this.editingMaterial;this.editingMaterial=this.document.materials.find(e=>e.id!==this.editingMaterial.id),this.callback(this.editingMaterial),this.document.materials.remove(e)}addMaterial(){this.document.materials.push(new a.F5(this.document,`Material ${P++}`,0xdddddd))}copyMaterial(){this.document.materials.push(this.editingMaterial.clone())}};var _=n(8969);let ActiveStyleConverter=class ActiveStyleConverter{material;constructor(e){this.material=e}convert(e){return a.x4.ok(this.material===e?`${_.material} ${_.active}`:_.material)}};let MaterialEditor=class MaterialEditor extends HTMLElement{dataContent;editingControl;colorConverter;constructor(e){super(),this.dataContent=e,this.colorConverter=new o.No,this._handleShowProperty=()=>{this.remove()},this._onEditingMaterialChanged=e=>{"editingMaterial"===e&&(this.editingControl.firstChild?.remove(),this.initEditingControl(this.dataContent.editingMaterial))},this.editingControl=(0,o.hi)({className:_.properties}),this.initEditingControl(e.editingMaterial),this.append(this.createEditorUI())}createEditorUI(){return(0,o.hi)({className:_.root},this.titleSection(),this.materialsCollection(),this.editingControl,this.buttons())}titleSection(){return(0,o.hi)({className:_.title},(0,o.yP)({textContent:new a.Xx("common.material")}),this.iconButton("icon-plus",()=>this.dataContent.addMaterial()),this.iconButton("icon-clone",()=>this.dataContent.copyMaterial()),this.iconButton("icon-trash",()=>this.dataContent.deleteMaterial()))}iconButton(e,t){return(0,o.YP)({icon:e,onclick:t})}materialsCollection(){return(0,o.hJ)({className:_.materials,sources:this.dataContent.document.materials,template:e=>this.material(e)})}material(e){return(0,o.yP)({className:new a.KX(this.dataContent,"editingMaterial",new ActiveStyleConverter(e)),title:e.name,style:{backgroundColor:new a.KX(e,"color",this.colorConverter),backgroundImage:new a.wK(e,"map.image",new w.C),backgroundBlendMode:"multiply",backgroundSize:"contain"},onclick:()=>{this.dataContent.editingMaterial=e},ondblclick:()=>{this.dataContent.callback(e),this.remove()}})}buttons(){return(0,o.hi)({className:_.bottom},(0,o.LI)({textContent:new a.Xx("common.confirm"),onclick:()=>{this.dataContent.callback(this.dataContent.editingMaterial),this.remove()}}),(0,o.LI)({textContent:new a.Xx("common.cancel"),onclick:()=>this.remove()}))}connectedCallback(){this.dataContent.onPropertyChanged(this._onEditingMaterialChanged),a.pS.default.sub("showProperties",this._handleShowProperty)}disconnectedCallback(){a.pS.default.remove("showProperties",this._handleShowProperty)}_handleShowProperty;_onEditingMaterialChanged;initEditingControl(e){this.editingControl.innerHTML="";let isTexture=t=>e[t.name]instanceof a.xE,t=a.Z9.getProperties(e);this.editingControl.append(...t.filter(e=>!isTexture(e)).map(t=>findPropertyControl(this.dataContent.document,[e],t)),...t.filter(isTexture).map(t=>findPropertyControl(this.dataContent.document,[e],t)))}};customElements.define("material-editor",MaterialEditor);var N=n(4459),k=n(8930);let CommandContext=class CommandContext extends HTMLElement{command;propMap;constructor(e){super(),this.command=e,this.propMap=new Map,this.onPropertyChanged=e=>{if(this.propMap.has(e))for(let[t,n]of this.propMap.get(e))this.setVisible(n,t)},this.className=k.panel;let t=a.mY.getData(e);this.append((0,o.YP)({className:k.icon,icon:t.icon}),(0,o.PS)({className:k.title,textContent:new a.Xx(`command.${t.key}`)},": ")),this.initContext()}connectedCallback(){this.command instanceof a.y$&&this.command.onPropertyChanged(this.onPropertyChanged)}disconnectedCallback(){this.command instanceof a.y$&&this.command.removePropertyChanged(this.onPropertyChanged)}dispose(){this.propMap.clear()}onPropertyChanged;initContext(){let e=new Map;a.Z9.getProperties(this.command).forEach(t=>{let n=this.findGroup(e,t),i=this.createItem(this.command,t);this.setVisible(i,t),this.cacheDependencies(i,t),n.append(i)})}cacheDependencies(e,t){if(t.dependencies)for(let n of t.dependencies){let i=this.propMap.get(n.property);this.propMap.set(n.property,[...i??[],[t,e]])}}setVisible(e,t){let n=!0;if(t.dependencies){for(let e of t.dependencies)if(this.command[e.property]!==e.value){n=!1;break}}e.style.display=n?"inherit":"none"}findGroup(e,t){let n=e.get(t.group);return void 0===n&&(n=(0,o.hi)({className:k.group}),e.set(t.group,n),this.append(n)),n}createItem(e,t){let n=typeof e[t.name];if("materialId"===t.type)return this.materialEditor(t,e);switch(n){case"function":return this.newButton(t,e);case"boolean":return this.newCheckbox(t,e);case"number":return this.newInput(t,e,parseFloat);case"string":return this.newInput(t,e);default:if(e[t.name]instanceof a.hQ)return this.newCombobox(e,t);throw Error("暂不支持的类型")}}newCombobox(e,t){let n=e[t.name],i=n.items.map((e,t)=>(0,o.Kw)({selected:t===n.selectedIndex,textContent:a.oc.isI18nKey(e)?new a.Xx(e):n.converter?.convert(e).unchecked()??String(e)}));return(0,o.hi)((0,o.PS)({textContent:new a.Xx(t.display)}),(0,o.Ys)({className:k.select,onchange:e=>{n.selectedIndex=e.target.selectedIndex}},...i))}newInput(e,t,n){return(0,o.hi)((0,o.PS)({textContent:new a.Xx(e.display)}),(0,o.qH)({type:"text",className:k.input,value:new a.KX(t,e.name),onblur:i=>{let o=i.target;t[e.name]=n?n(o.value):o.value},onkeydown:e=>{e.stopPropagation(),"Enter"===e.key&&e.target.blur()}}))}newCheckbox(e,t){return(0,o.hi)((0,o.PS)({textContent:new a.Xx(e.display)}),(0,o.qH)({type:"checkbox",checked:new a.KX(t,e.name),onclick:()=>{t[e.name]=!t[e.name]}}))}newButton(e,t){return(0,o.LI)({className:k.button,textContent:new a.Xx(e.display),onclick:()=>t[e.name]()})}materialEditor(e,t){if(!(this.command instanceof a.uu))throw Error("MaterialEditor only support CancelableCommand");let n=this.command.document.materials.find(n=>n.id===t[e.name]),i=n.clone();return(0,o.LI)({className:k.materialButton,style:{backgroundColor:new a.KX(i,"color",new o.No),backgroundImage:new a.wK(i,"map.image",new o.C8),backgroundBlendMode:"multiply",backgroundSize:"cover",cursor:"pointer"},textContent:new a.Xx(e.display),onclick:()=>{this.command instanceof N.av&&a.pS.default.pub("editMaterial",this.command.document,n,n=>{t[e.name]=n.id,i.color=n.color,i.map=n.map})}})}};customElements.define("command-context",CommandContext);var E=n(6608),S=n(1752);let RibbonButton=class RibbonButton extends HTMLElement{onClick;constructor(e,t,n,i){super(),this.onClick=i,this.initHTML(e,t,n),this.addEventListener("click",i)}static fromCommandName(e,t){let n=a.mY.getData(e);return n?n.toggle?new RibbonToggleButton(n,t):new RibbonButton(`command.${n.key}`,n.icon,t,()=>{a.pS.default.pub("executeCommand",e)}):void a.Yd.warn(`commandData of ${e} is undefined`)}dispose(){this.removeEventListener("click",this.onClick)}initHTML(e,t,n){let i=(0,o.YP)({icon:t});this.className=n===a.qE.large?S.normal:S.small,i.classList.add(n===a.qE.large?S.icon:S.smallIcon);let s=(0,o.PS)({className:n===a.qE.large?S.largeButtonText:S.smallButtonText,textContent:new a.Xx(e)});a.oc.set(this,"title",e),this.append(i,s)}};customElements.define("ribbon-button",RibbonButton);let ToggleConverter=class ToggleConverter{className;active;constructor(e,t){this.className=e,this.active=t}convert(e){return e?a.x4.ok(`${this.className} ${this.active}`):a.x4.ok(this.className)}};let RibbonToggleButton=class RibbonToggleButton extends RibbonButton{constructor(e,t){super(`command.${e.key}`,e.icon,t,()=>{a.pS.default.pub("executeCommand",e.key)}),e.toggle&&(e.toggle.converter=new ToggleConverter(this.className,S.checked),e.toggle.setBinding(this,"className"))}};customElements.define("ribbon-toggle-button",RibbonToggleButton);var T=n(5692);let RibbonStack=class RibbonStack extends HTMLElement{constructor(){super(),this.className=T.root}};customElements.define("ribbon-stack",RibbonStack);let RibbonDataContent=class RibbonDataContent extends a.y${app;quickCommands;ribbonTabs;_activeTab;_activeView;constructor(e,t,n){super(),this.app=e,this.quickCommands=new a.Vn,this.ribbonTabs=new a.Vn,this.quickCommands.push(...t),this.ribbonTabs.push(...n),this._activeTab=n[0],a.pS.default.sub("activeViewChanged",e=>this.activeView=e)}get activeTab(){return this._activeTab}set activeTab(e){this.setProperty("activeTab",e)}get activeView(){return this._activeView}set activeView(e){this.setProperty("activeView",e)}};let QuickButton=e=>{let t=a.mY.getData(e);return t?(0,o.YP)({icon:t.icon,title:new a.Xx(`command.${t.key}`),onclick:()=>a.pS.default.pub("executeCommand",t.key)}):(a.Yd.warn("commandData is undefined"),(0,o.yP)({textContent:"null"}))};let ViewActiveConverter=class ViewActiveConverter{target;style;activeStyle;constructor(e,t,n){this.target=e,this.style=t,this.activeStyle=n}convert(e){return a.x4.ok(this.target===e?`${this.style} ${this.activeStyle}`:this.style)}};let ActivedRibbonTabConverter=class ActivedRibbonTabConverter{tab;style;activeStyle;constructor(e,t,n){this.tab=e,this.style=t,this.activeStyle=n}convert(e){return a.x4.ok(this.tab===e?`${this.style} ${this.activeStyle}`:this.style)}};let DisplayConverter=class DisplayConverter{tab;constructor(e){this.tab=e}convert(e){return a.x4.ok(this.tab===e?"":"none")}};let Ribbon=class Ribbon extends HTMLElement{dataContent;_commandContext;commandContext;constructor(e){super(),this.dataContent=e,this._commandContext=(0,o.hi)({className:E.commandContextPanel}),this.openContext=e=>{this.commandContext&&this.closeContext(),this.commandContext=new CommandContext(e),this._commandContext.append(this.commandContext)},this.closeContext=()=>{this.commandContext?.remove(),this.commandContext?.dispose(),this.commandContext=void 0,this._commandContext.innerHTML=""},this.className=E.root,this.append(this.header(),this.ribbonTabs(),this._commandContext)}header(){return(0,o.hi)({className:E.titleBar},this.leftPanel(),this.centerPanel(),this.rightPanel())}leftPanel(){return(0,o.hi)({className:E.left},(0,o.hi)({className:E.appIcon,onclick:()=>a.pS.default.pub("displayHome",!0)},(0,o.YP)({className:E.icon,icon:"icon-toSolid",style:{color:"#ff69b4"}}),(0,o.yP)({id:"appName",textContent:"Bitcoin 3D - v1.0.0"})),(0,o.hi)({className:E.ribbonTitlePanel},(0,o.YP)({className:E.home,icon:"icon-home",onclick:()=>a.pS.default.pub("displayHome",!0)}),(0,o.hJ)({className:E.quickCommands,sources:this.dataContent.quickCommands,template:e=>QuickButton(e)}),(0,o.yP)({className:E.split}),this.createRibbonHeader()))}createRibbonHeader(){return(0,o.hJ)({sources:this.dataContent.ribbonTabs,template:e=>{let t=new ActivedRibbonTabConverter(e,E.tabHeader,E.activedTab);return(0,o.PS)({className:new a.KX(this.dataContent,"activeTab",t),textContent:new a.Xx(e.tabName),onclick:()=>this.dataContent.activeTab=e})}})}centerPanel(){return(0,o.hi)({className:E.center},(0,o.hJ)({className:E.views,sources:this.dataContent.app.views,template:e=>this.createViewItem(e)}),(0,o.YP)({className:E.new,icon:"icon-plus",title:a.oc.translate("command.doc.new"),onclick:()=>a.pS.default.pub("executeCommand","doc.new")}))}createViewItem(e){return(0,o.hi)({className:new a.KX(this.dataContent,"activeView",new ViewActiveConverter(e,E.tab,E.active)),onclick:()=>{this.dataContent.app.activeView=e}},(0,o.hi)({className:E.name},(0,o.yP)({textContent:new a.KX(e.document,"name")})),(0,o.YP)({className:E.close,icon:"icon-times",onclick:t=>{t.stopPropagation(),e.close()}}))}rightPanel(){return(0,o.hi)({className:E.right},(0,o.a)({href:"https://github.com/xiangechen/chili3d",target:"_blank"},(0,o.YP)({title:"Github",className:E.icon,icon:"icon-github"})))}ribbonTabs(){return(0,o.hJ)({className:E.tabContentPanel,sources:this.dataContent.ribbonTabs,template:e=>this.ribbonTab(e)})}ribbonTab(e){return(0,o.hJ)({className:E.groupPanel,sources:e.groups,style:{display:new a.KX(this.dataContent,"activeTab",new DisplayConverter(e))},template:e=>this.ribbonGroup(e)})}ribbonGroup(e){return(0,o.hi)({className:E.ribbonGroup},(0,o.hJ)({sources:e.items,className:E.content,template:e=>this.ribbonButton(e)}),(0,o.PS)({className:E.header,textContent:new a.Xx(e.groupName)}))}ribbonButton(e){if("string"==typeof e)return RibbonButton.fromCommandName(e,a.qE.large);if(!(e instanceof a.Vn))return new RibbonButton(e.display,e.icon,a.qE.large,e.onClick);{let t=new RibbonStack;return e.forEach(e=>{let n=RibbonButton.fromCommandName(e,a.qE.small);n&&t.append(n)}),t}}connectedCallback(){a.pS.default.sub("openCommandContext",this.openContext),a.pS.default.sub("closeCommandContext",this.closeContext)}disconnectedCallback(){a.pS.default.remove("openCommandContext",this.openContext),a.pS.default.remove("closeCommandContext",this.closeContext)}openContext;closeContext};customElements.define("chili-ribbon",Ribbon);let RibbonGroupData=class RibbonGroupData extends a.y${items;get groupName(){return this.getPrivateValue("groupName")}set groupName(e){this.setProperty("groupName",e)}constructor(e,...t){super(),this.setPrivateValue("groupName",e),this.items=new a.Vn(...t)}static fromProfile(e){return new RibbonGroupData(e.groupName,...e.items.map(e=>Array.isArray(e)?new a.Vn(...e):e))}};let RibbonTabData=class RibbonTabData extends a.y${groups=new a.Vn;get tabName(){return this.getPrivateValue("tabName")}set tabName(e){this.setProperty("tabName",e)}constructor(e,...t){super(),this.setPrivateValue("tabName",e),this.groups.push(...t)}static fromProfile(e){return new RibbonTabData(e.tabName,...e.groups.map(e=>RibbonGroupData.fromProfile(e)))}};var D=n(7141);let M=[{type:a.DE.endPoint,display:"snap.end"},{type:a.DE.midPoint,display:"snap.mid"},{type:a.DE.center,display:"snap.center"},{type:a.DE.perpendicular,display:"snap.perpendicular"},{type:a.DE.intersection,display:"snap.intersection"}];let SnapConfig=class SnapConfig extends HTMLElement{constructor(){super(),this.className=D.container,a.De.instance.onPropertyChanged(this.snapTypeChanged),this.render()}snapTypeChanged=e=>{("snapType"===e||"enableSnap"===e||"enableSnapTracking"===e)&&(this.innerHTML="",this.render())};handleSnapClick(e){a.DE.has(a.De.instance.snapType,e)?a.De.instance.snapType=a.DE.remove(a.De.instance.snapType,e):a.De.instance.snapType=a.DE.add(a.De.instance.snapType,e)}render(){this.append(...M.map(e=>(0,o.hi)((0,o.qH)({type:"checkbox",id:`snap-${e.type}`,checked:a.DE.has(a.De.instance.snapType,e.type),onclick:()=>this.handleSnapClick(e.type)}),(0,o.PS)({htmlFor:`snap-${e.type}`,textContent:new a.Xx(e.display)}))),(0,o.hi)((0,o.qH)({type:"checkbox",id:"snap-tracking",checked:a.De.instance.enableSnapTracking,onclick:()=>a.De.instance.enableSnapTracking=!a.De.instance.enableSnapTracking}),(0,o.PS)({htmlFor:"snap-tracking",textContent:new a.Xx("statusBar.tracking")})))}};customElements.define("chili-snap-config",SnapConfig);var I=n(4714);let Statusbar=class Statusbar extends HTMLElement{_isDefaultTip=!0;tip=(0,o.PS)({textContent:"",className:I.tip});constructor(e){super(),this.className=`${I.panel} ${e}`,this.setDefaultTip(),this.render(),a.pS.default.sub("statusBarTip",this.statusBarTip),a.pS.default.sub("clearStatusBarTip",this.setDefaultTip),a.De.instance.onPropertyChanged(this.handleConfigChanged)}handleConfigChanged=e=>{"navigation3DIndex"===e&&this._isDefaultTip&&this.setDefaultTip()};render(){this.append((0,o.hi)({className:I.left},this.tip),(0,o.hi)({className:I.right},new SnapConfig))}statusBarTip=e=>{this._isDefaultTip=!1,a.oc.set(this.tip,"textContent",e)};setDefaultTip=()=>{this._isDefaultTip=!0;let{pan:e,rotate:t}=a.jb.navigationKeyMap();a.oc.set(this.tip,"textContent","prompt.default{0}{1}",e,t)}};customElements.define("chili-statusbar",Statusbar);let L=new Map([["default","default"],["draw","url(data:application/octet-stream;base64,AAACAAEAMDAAABcAFwAwAwAAFgAAACgAAAAwAAAAYAAAAAEAAQAAAAAAgAEAAAAAAAAAAAAAAgAAAAIAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAA4AAAAAAAAADgAAAAAAAAAOAAAAAAAAAA4AAAAAAAAADgAAAAAAAAAOAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/gAAAA/wAAH+AAAAD/AAAf4AAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAADgAAAAAAAAAOAAAAAAAAAA4AAAAAAAAADgAAAAAAAAAOAAAAAAAAAA4AAAAAAAAADgAAAAAAAAAAAAAAAAP///////wAA///4P///AAD///g///8AAP//+D///wAA///4P///AAD///g///8AAP//+D///wAA///4P///AAD///g///8AAP//+D///wAA///4P///AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAAAD////gBAAAAP///+AEAAAA////4AQAAAD////gBAAAAP///+AEAAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///////8AAP///////wAA////////AAD///g///8AAP//+D///wAA///4P///AAD///g///8AAP//+D///wAA///4P///AAD///g///8AAP//+D///wAA///4P///AAD///g///8AAA==), default"],["select.default","crosshair"]]);(i||(i={})).get=function(e){return L.get(e)??"default"};var V=n(3113),H=n(2573),B=n(1174);let Input=class Input extends HTMLElement{handler;_cancelledCallbacks;_completedCallbacks;textbox;tip;constructor(e,t){super(),this.handler=t,this._cancelledCallbacks=[],this._completedCallbacks=[],this.handleKeyDown=e=>{e.stopPropagation(),"Enter"===e.key?this.processEnterKey():"Escape"===e.key?this._cancelledCallbacks.forEach(e=>e()):this.removeTip()},this.className=B.panel,this.textbox=(0,o.qH)({value:e,onkeydown:this.handleKeyDown}),this.append(this.textbox)}onCancelled(e){this._cancelledCallbacks.push(e)}onCompleted(e){this._completedCallbacks.push(e)}get text(){return this.textbox.value}focus(){this.textbox.focus()}dispose(){this._cancelledCallbacks.length=0,this._completedCallbacks.length=0}showTip(e){void 0===this.tip?(this.tip=(0,o.PS)({textContent:new a.Xx(e),className:B.error}),this.append(this.tip)):a.oc.set(this.tip,"textContent",e)}removeTip(){void 0!==this.tip&&(this.removeChild(this.tip),this.tip=void 0)}handleKeyDown;processEnterKey(){this.textbox.readOnly=!0;let e=this.handler(this.textbox.value);e.isOk?this._completedCallbacks.forEach(e=>e()):(this.textbox.readOnly=!1,this.showTip(e.error))}};customElements.define("chili-input",Input);var X=n(8705);let Tip=class Tip extends HTMLElement{color;constructor(e,t){super(),this.className=X.tip,this.set(e,t)}set(e,t){this.textContent!==e&&(this.textContent=e);let n=this.getStyle(t);this.setStyle(n)}setStyle(e){this.color!==e&&void 0!==e&&(void 0!==this.color&&this.classList.remove(this.color),this.classList.add(e),this.color=e)}getStyle(e){switch(e){case a.Cs.error:return X.error;case a.Cs.warn:return X.warn;default:return X.info}}};customElements.define("chili-tip",Tip);let Flyout=class Flyout extends HTMLElement{_tip;_input;lastFocus=null;constructor(){super(),this.className=H.root}connectedCallback(){a.pS.default.sub("showFloatTip",this.showTip),a.pS.default.sub("clearFloatTip",this.clearTip),a.pS.default.sub("showInput",this.displayInput),a.pS.default.sub("clearInput",this.clearInput)}disconnectedCallback(){a.pS.default.remove("showFloatTip",this.showTip),a.pS.default.remove("clearFloatTip",this.clearTip),a.pS.default.remove("showInput",this.displayInput),a.pS.default.remove("clearInput",this.clearInput)}showTip=(e,t)=>{void 0===this._tip?(this._tip=new Tip(t,e),this.append(this._tip)):this._tip.set(t,e)};clearTip=()=>{void 0!==this._tip&&(this._tip.remove(),this._tip=void 0)};displayInput=(e,t)=>{void 0===this._input&&(this.lastFocus=document.activeElement,this._input=new Input(e,t),this._input.onCancelled(this.clearInput),this._input.onCompleted(this.clearInput),this.append(this._input),this._input.focus())};clearInput=()=>{void 0!==this._input&&(this.removeChild(this._input),this._input.dispose(),this._input=void 0,this.lastFocus?.focus())}};customElements.define("chili-flyout",Flyout);var O=n(8022);let CameraConverter=class CameraConverter{type;constructor(e){this.type=e}convert(e){return e===this.type?a.x4.ok(O.actived):a.x4.ok("")}};let Viewport=class Viewport extends HTMLElement{view;showViewControls;_flyout;_eventCaches;_acts;constructor(e,t){super(),this.view=e,this.showViewControls=t,this._eventCaches=[],this.onActCollectionChanged=()=>{0===this.view.document.acts.length?this._acts.style.display="none":this._acts.style.display="flex"},this.setActName=e=>{let t=(0,o.qH)({value:e.name,onkeydown:e=>{e.stopPropagation()}});a.pS.default.pub("showDialog","ribbon.group.act",(0,o.hi)((0,o.PS)({textContent:new a.Xx("common.name")}),": ",t),n=>{n===a.Xs.ok&&(e.name=t.value)})},this.pointerMove=(e,t)=>{this._flyout&&(this._flyout.style.top=t.offsetY+"px",this._flyout.style.left=t.offsetX+"px"),e.document.visual.eventHandler.pointerMove(e,t),e.document.visual.viewHandler.pointerMove(e,t)},this.pointerDown=(e,t)=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),e.document.application.activeView=e,e.document.visual.eventHandler.pointerDown(e,t),e.document.visual.viewHandler.pointerDown(e,t)},this.pointerUp=(e,t)=>{e.document.visual.eventHandler.pointerUp(e,t),e.document.visual.viewHandler.pointerUp(e,t)},this.pointerOut=(e,t)=>{e.document.visual.eventHandler.pointerOut?.(e,t),e.document.visual.viewHandler.pointerOut?.(e,t)},this.mouseWheel=(e,t)=>{e.document.visual.eventHandler.mouseWheel?.(e,t),e.document.visual.viewHandler.mouseWheel?.(e,t)},this.className=O.root,this._flyout=new Flyout,this._acts=this.createActs(),this.render(),e.setDom(this)}onActCollectionChanged;render(){this.append(this._acts,this.showViewControls?(0,o.hi)({className:O.viewControls,onpointerdown:e=>e.stopPropagation(),onclick:e=>e.stopPropagation()},this.createCameraControls(),this.createActionControls()):"")}createCameraControls(){return(0,o.hi)({className:O.border},this.createCameraControl("orthographic","icon-orthographic"),this.createCameraControl("perspective","icon-perspective"))}createActionControls(){return(0,o.hi)({className:O.border},(0,o.YP)({icon:"icon-fitcontent",title:new a.Xx("viewport.fitContent"),onclick:async e=>{e.stopPropagation(),this.view.cameraController.fitContent(),this.view.update()}}),(0,o.YP)({icon:"icon-zoomin",title:new a.Xx("viewport.zoomIn"),onclick:()=>{this.view.cameraController.zoom(this.view.width/2,this.view.height/2,-5),this.view.update()}}),(0,o.YP)({icon:"icon-zoomout",title:new a.Xx("viewport.zoomOut"),onclick:()=>{this.view.cameraController.zoom(this.view.width/2,this.view.height/2,5),this.view.update()}}))}createActs(){return(0,o.hi)({className:O.actsContainer},(0,o.hi)({className:O.border,onpointerdown:e=>e.stopPropagation(),onclick:e=>e.stopPropagation()},(0,o.hJ)({className:O.acts,sources:this.view.document.acts,template:e=>(0,o.hi)({onclick:()=>{this.view.cameraController.lookAt(e.cameraPosition,e.cameraTarget,e.cameraUp),this.view.update()}},(0,o.yP)({textContent:new a.KX(e,"name")}),(0,o.hi)({className:O.tools},(0,o.YP)({icon:"icon-cog",onclick:()=>this.setActName(e)}),(0,o.YP)({icon:"icon-times",onclick:()=>{this.view.document.acts.remove(e)}}))),onwheel:e=>{e.preventDefault();let t=e.currentTarget;t.scrollLeft+=e.deltaY}})))}setActName;createCameraControl(e,t){return(0,o.hi)({className:new a.KX(this.view.cameraController,"cameraType",new CameraConverter(e))},(0,o.YP)({icon:t,title:new a.Xx(`viewport.${e}`),onclick:t=>{t.stopPropagation(),this.view.cameraController.cameraType=e,this.view.update()}}))}connectedCallback(){this.initEvent(),this.appendChild(this._flyout),this.view.document.acts.onCollectionChanged(this.onActCollectionChanged),this.onActCollectionChanged()}disconnectedCallback(){this.removeEvents(),this._flyout.remove(),this.view.document.acts.removeCollectionChanged(this.onActCollectionChanged)}dispose(){this.removeEvents()}initEvent(){[["pointerdown",this.pointerDown],["pointermove",this.pointerMove],["pointerout",this.pointerOut],["pointerup",this.pointerUp],["wheel",this.mouseWheel]].forEach(e=>{this.addEventListenerHandler(e[0],e[1])})}addEventListenerHandler(e,t){let listener=e=>{e.preventDefault(),t(this.view,e)};this.addEventListener(e,listener),this._eventCaches.push([e,listener])}removeEvents(){this._eventCaches.forEach(e=>{this.removeEventListener(e[0],e[1])}),this._eventCaches.length=0}pointerMove;pointerDown;pointerUp;pointerOut;mouseWheel};customElements.define("chili-uiview",Viewport);let LayoutViewport=class LayoutViewport extends HTMLElement{app;showViewControls;_viewports;constructor(e,t=!0){super(),this.app=e,this.showViewControls=t,this._viewports=new Map,this._handleViewCollectionChanged=e=>{e.action===a.mn.add?e.items.forEach(e=>{this.createViewport(e)}):e.action===a.mn.remove&&e.items.forEach(e=>{let t=this._viewports.get(e);t?.remove(),t?.dispose(),this._viewports.delete(e)})},this._handleCursor=e=>{this.style.cursor=i.get(e)},this._handleActiveViewChanged=e=>{this._viewports.forEach(t=>{t.view===e?t.classList.remove(V.hidden):t.classList.add(V.hidden)})},this.className=V.root,e.views.onCollectionChanged(this._handleViewCollectionChanged)}_handleViewCollectionChanged;connectedCallback(){a.pS.default.sub("activeViewChanged",this._handleActiveViewChanged),a.pS.default.sub("viewCursor",this._handleCursor)}disconnectedCallback(){a.pS.default.remove("activeViewChanged",this._handleActiveViewChanged),a.pS.default.remove("viewCursor",this._handleCursor)}_handleCursor;createViewport(e){let t=new Viewport(e,this.showViewControls);return t.classList.add(V.viewport,V.hidden),this.appendChild(t),this._viewports.set(e,t),t}_handleActiveViewChanged};customElements.define("chili-viewport",LayoutViewport);let R=["doc.save","doc.saveToFile","edit.undo","edit.redo"];let Editor=class Editor extends HTMLElement{ribbonContent;_selectionController;_viewportContainer;_sidebarWidth=360;_isResizingSidebar=!1;_sidebarEl=null;constructor(e,t){super(),this.ribbonContent=new RibbonDataContent(e,R,t.map(RibbonTabData.fromProfile));let n=new LayoutViewport(e);n.classList.add(r.viewport),this._selectionController=new OKCancel,this._viewportContainer=(0,o.hi)({className:r.viewportContainer},this._selectionController,n),this.clearSelectionControl(),this.render(),document.body.appendChild(this)}render(){this._sidebarEl=(0,o.hi)({className:r.sidebar,style:`width: ${this._sidebarWidth}px;`},new ProjectView({className:r.sidebarItem}),new PropertyView({className:r.sidebarItem}),(0,o.hi)({className:r.sidebarResizer,onmousedown:e=>this._startSidebarResize(e)})),this.append((0,o.hi)({className:r.root},new Ribbon(this.ribbonContent),(0,o.hi)({className:r.content},this._sidebarEl,this._viewportContainer),new Statusbar(r.statusbar)))}_startSidebarResize(e){e.preventDefault(),this._isResizingSidebar=!0,document.body.style.cursor="ew-resize";let onMouseMove=e=>{if(!this._isResizingSidebar||!this._sidebarEl)return;let t=this._sidebarEl.getBoundingClientRect(),n=e.clientX-t.left;n=Math.max(75,Math.min(Math.floor(.85*window.innerWidth),n)),this._sidebarWidth=n,this._sidebarEl.style.width=`${n}px`},onMouseUp=()=>{this._isResizingSidebar=!1,document.body.style.cursor="",window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",onMouseUp)};window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",onMouseUp)}connectedCallback(){a.pS.default.sub("showSelectionControl",this.showSelectionControl),a.pS.default.sub("editMaterial",this._handleMaterialEdit),a.pS.default.sub("clearSelectionControl",this.clearSelectionControl)}disconnectedCallback(){a.pS.default.remove("showSelectionControl",this.showSelectionControl),a.pS.default.remove("editMaterial",this._handleMaterialEdit),a.pS.default.remove("clearSelectionControl",this.clearSelectionControl)}showSelectionControl=e=>{this._selectionController.setControl(e),this._selectionController.style.visibility="visible",this._selectionController.style.zIndex="1000"};clearSelectionControl=()=>{this._selectionController.setControl(void 0),this._selectionController.style.visibility="hidden"};_handleMaterialEdit=(e,t,n)=>{let i=new MaterialDataContent(e,n,t);this._viewportContainer.append(new MaterialEditor(i))};registerRibbonCommand(e,t,n){let i=this.ribbonContent.ribbonTabs.find(t=>t.tabName===e),o=i?.groups.find(e=>e.groupName===t);o?.items.push(n)}};customElements.define("chili-editor",Editor);var Y=n(4931);let LanguageSelector=e=>{let t=[];return a.oc.languages.forEach((e,n)=>t.push((0,o.Kw)({selected:n===a.oc.currentLanguage(),textContent:e.display}))),(0,o.Ys)({onchange:e=>{let t=e.target.selectedIndex;a.De.instance.languageIndex=t},...e},...t)},Navigation3DSelector=e=>{let t=[];return a.jb.types.forEach((e,n)=>t.push((0,o.Kw)({selected:n===a.De.instance.navigation3DIndex,textContent:e}))),(0,o.Ys)({onchange:e=>{let t=e.target.selectedIndex;a.De.instance.navigation3DIndex=t},...e},...t)},ThemeSelector=e=>{let t=[];return[{value:"light",key:"common.theme.light"},{value:"dark",key:"common.theme.dark"},{value:"system",key:"common.theme.system"}].forEach(e=>t.push((0,o.Kw)({selected:e.value===a.De.instance.themeMode,textContent:new a.Xx(e.key),value:e.value}))),(0,o.Ys)({onchange:e=>{let t=e.target.value;a.De.instance.themeMode=t},...e},...t)},$=new a.Vn({display:"command.doc.new",onclick:()=>a.pS.default.pub("executeCommand","doc.new")},{display:"command.doc.open",onclick:()=>a.pS.default.pub("executeCommand","doc.open")});let Home=class Home extends HTMLElement{app;constructor(e){super(),this.app=e,this.className=Y.root}hasOpen(e){for(let t of this.app.documents)if(t.id===e)return!0;return!1}async getDocuments(){return new a.Vn(...await this.app.storage.page(a.gT.DBName,a.gT.RecentTable,0))}async render(){let e=await this.getDocuments();this.append(this.leftSection(),this.rightSection(e)),document.body.appendChild(this)}leftSection(){return(0,o.hi)({className:Y.left},(0,o.hi)({className:Y.top},this.logoSection(),this.applicationCommands(),this.currentDocument()),this.settings(),this.links())}logoSection(){return(0,o.hi)({className:Y.logo},(0,o.YP)({icon:"icon-toSolid"}),(0,o.yP)({textContent:"Bitcoin 3D"}),(0,o.yP)({className:Y.version,textContent:"1.0.0"}))}applicationCommands(){return(0,o.hJ)({className:Y.buttons,sources:$,template:e=>(0,o.LI)({className:Y.button,textContent:new a.Xx(e.display),onclick:e.onclick})})}currentDocument(){return this.app.activeView?.document?(0,o.LI)({className:`${Y.button} ${Y.back}`,textContent:new a.Xx("common.back"),onclick:()=>{a.pS.default.pub("displayHome",!1)}}):""}settings(){return(0,o.hi)({className:Y.settingsPanel},(0,o.hi)({className:Y.settingItem},(0,o.yP)({className:Y.settingLabel,textContent:new a.Xx("common.language")}),(0,o.hi)({className:Y.settingControl},LanguageSelector({}))),(0,o.hi)({className:Y.settingItem},(0,o.yP)({className:Y.settingLabel,textContent:new a.Xx("common.theme")}),(0,o.hi)({className:Y.settingControl},ThemeSelector({}))),(0,o.hi)({className:Y.settingItem},(0,o.yP)({className:Y.settingLabel,textContent:new a.Xx("common.3DNavigation")}),(0,o.hi)({className:Y.settingControl},Navigation3DSelector({}))))}links(){return(0,o.hi)({className:Y.socialPanel},(0,o.a)({className:Y.socialItem,href:"https://github.com/bitcoin-apps-suite/bitcoin-3d",target:"_blank",rel:"noopener noreferrer"},(0,o.YP)({icon:"icon-github"}),(0,o.PS)({textContent:"GitHub"})),(0,o.LI)({className:Y.socialItem,onclick:()=>{a.pS.default.pub("executeCommand","wechat.group")}},(0,o.YP)({icon:"icon-wechatGroup"}),(0,o.PS)({textContent:new a.Xx("command.wechat.group")})))}rightSection(e){return(0,o.hi)({className:Y.right},(0,o.PS)({className:Y.welcome,textContent:new a.Xx("home.welcome")}),(0,o.hi)({className:Y.recent,textContent:new a.Xx("home.recent")}),this.documentCollection(e))}documentCollection(e){return(0,o.hJ)({className:Y.documents,sources:e,template:t=>this.recentDocument(t,e)})}recentDocument(e,t){return(0,o.hi)({className:Y.document,onclick:()=>this.handleDocumentClick(e)},(0,o.lv)({className:Y.img,src:e.image}),this.documentDescription(e),this.deleteIcon(e,t))}documentDescription(e){return(0,o.hi)({className:Y.description},(0,o.yP)({className:Y.title,textContent:e.name}),(0,o.yP)({className:Y.date,textContent:new Date(e.date).toLocaleDateString()}))}deleteIcon(e,t){return(0,o.YP)({className:Y.delete,icon:"icon-times",onclick:async n=>{n.stopPropagation(),window.confirm(a.oc.translate("prompt.deleteDocument{0}",e.name))&&(await Promise.all([this.app.storage.delete(a.gT.DBName,a.gT.DocumentTable,e.id),this.app.storage.delete(a.gT.DBName,a.gT.RecentTable,e.id)]),t.remove(e))}})}handleDocumentClick(e){this.hasOpen(e.id)?a.pS.default.pub("displayHome",!1):a.pS.default.pub("showPermanent",async()=>{let t=await this.app.openDocument(e.id);t?.application.activeView?.cameraController.fitContent()},"toast.excuting{0}",a.oc.translate("command.doc.open"))}};customElements.define("chili-home",Home);var K=n(3035);let Permanent=class Permanent{static async show(e,t,...n){let i=document.createElement("dialog");i.appendChild((0,o.hi)({className:K.container},(0,o.hi)({className:K.loading,style:{animation:`${K.circle} infinite 0.75s linear`}}),(0,o.yP)({className:K.message,textContent:a.oc.translate(t,...n)}))),document.body.appendChild(i),i.showModal(),e().finally(()=>i.remove())}};var j=n(6278);let Toast=class Toast{static _lastToast;static info=(e,...t)=>{Toast.display(j.info,a.oc.translate(e,...t))};static error=e=>{Toast.display(j.error,e)};static warn=e=>{Toast.display(j.warning,e)};static display(e,t){this._lastToast&&(clearTimeout(this._lastToast[0]),this._lastToast[1].remove());let n=(0,o.PS)({className:`${j.toast} ${e}`,textContent:t});document.body.appendChild(n),this._lastToast=[window.setTimeout(()=>{n.remove(),this._lastToast=void 0},2e3),n]}};document.oncontextmenu=e=>e.preventDefault(),document.body.addEventListener("scroll",e=>{document.body.scrollTop=0});let MainWindow=class MainWindow{tabs;_inited;_home;_editor;constructor(e){this.tabs=e,this._inited=!1,this.displayHome=(e,t)=>{this._home&&(this._home.remove(),this._home=void 0),t&&this._initHome(e)}}init(e){if(this._inited)throw Error("MainWindow is already inited");this._inited=!0,this._initHome(e),this._initEditor(e),this._initSubs(e)}_initSubs(e){let t=(0,a.Ds)(this.displayHome,100);a.pS.default.sub("showToast",Toast.info),a.pS.default.sub("displayError",Toast.error),a.pS.default.sub("showDialog",Dialog.show),a.pS.default.sub("showPermanent",Permanent.show),a.pS.default.sub("activeViewChanged",n=>t(e,void 0===n)),a.pS.default.sub("displayHome",n=>t(e,n))}displayHome;async _initHome(e){this._home=new Home(e),await this._home.render()}async _initEditor(e){this._editor=new Editor(e,this.tabs)}registerHomeCommand(e,t){throw Error("Method not implemented.")}registerRibbonCommand(e,t,n){this._editor?.registerRibbonCommand(e,t,n)}setTheme(e){document.documentElement.setAttribute("theme",e)}}},9734:function(e,t,n){e.exports={root:"bitcoin-3d-f2e86e387c18234c-root",title:"bitcoin-3d-f2e86e387c18234c-title",content:"bitcoin-3d-f2e86e387c18234c-content",buttons:"bitcoin-3d-f2e86e387c18234c-buttons"}},1166:function(e,t,n){e.exports={root:"bitcoin-3d-_72f353060cc4e144-root",content:"bitcoin-3d-_72f353060cc4e144-content",sidebar:"bitcoin-3d-_72f353060cc4e144-sidebar",sidebarItem:"bitcoin-3d-_72f353060cc4e144-sidebarItem",viewportContainer:"bitcoin-3d-_72f353060cc4e144-viewportContainer",viewport:"bitcoin-3d-_72f353060cc4e144-viewport",sidebarResizer:"bitcoin-3d-_72f353060cc4e144-sidebarResizer",statusbar:"bitcoin-3d-_72f353060cc4e144-statusbar"}},4931:function(e,t,n){e.exports={root:"bitcoin-3d-_79be0ff8e457c796-root",left:"bitcoin-3d-_79be0ff8e457c796-left",top:"bitcoin-3d-_79be0ff8e457c796-top",buttons:"bitcoin-3d-_79be0ff8e457c796-buttons",button:"bitcoin-3d-_79be0ff8e457c796-button",back:"bitcoin-3d-_79be0ff8e457c796-back",logo:"bitcoin-3d-_79be0ff8e457c796-logo",version:"bitcoin-3d-_79be0ff8e457c796-version",settingsPanel:"bitcoin-3d-_79be0ff8e457c796-settingsPanel",settingItem:"bitcoin-3d-_79be0ff8e457c796-settingItem",settingLabel:"bitcoin-3d-_79be0ff8e457c796-settingLabel",settingControl:"bitcoin-3d-_79be0ff8e457c796-settingControl",socialPanel:"bitcoin-3d-_79be0ff8e457c796-socialPanel",socialItem:"bitcoin-3d-_79be0ff8e457c796-socialItem",right:"bitcoin-3d-_79be0ff8e457c796-right",welcome:"bitcoin-3d-_79be0ff8e457c796-welcome",recent:"bitcoin-3d-_79be0ff8e457c796-recent",documents:"bitcoin-3d-_79be0ff8e457c796-documents",document:"bitcoin-3d-_79be0ff8e457c796-document",img:"bitcoin-3d-_79be0ff8e457c796-img",description:"bitcoin-3d-_79be0ff8e457c796-description",title:"bitcoin-3d-_79be0ff8e457c796-title",date:"bitcoin-3d-_79be0ff8e457c796-date",delete:"bitcoin-3d-_79be0ff8e457c796-delete"}},9700:function(e,t,n){e.exports={root:"bitcoin-3d-b78922ba4956c682-root",container:"bitcoin-3d-b78922ba4956c682-container",panel:"bitcoin-3d-b78922ba4956c682-panel",icon:"bitcoin-3d-b78922ba4956c682-icon",spacer:"bitcoin-3d-b78922ba4956c682-spacer"}},3035:function(e,t,n){e.exports={loading:"bitcoin-3d-_1a6544955c93c7e1-loading",circle:"bitcoin-3d-_1a6544955c93c7e1-circle",container:"bitcoin-3d-_1a6544955c93c7e1-container",message:"bitcoin-3d-_1a6544955c93c7e1-message"}},4871:function(e,t,n){e.exports={root:"bitcoin-3d-a1bf1c8f141d414c-root",headerPanel:"bitcoin-3d-a1bf1c8f141d414c-headerPanel",itemsPanel:"bitcoin-3d-a1bf1c8f141d414c-itemsPanel",header:"bitcoin-3d-a1bf1c8f141d414c-header"}},6130:function(e,t,n){e.exports={panel:"bitcoin-3d-_5c9d5f6aaede5713-panel",svg:"bitcoin-3d-_5c9d5f6aaede5713-svg"}},780:function(e,t,n){e.exports={panel:"bitcoin-3d-c0153fe38177ee49-panel",selected:"bitcoin-3d-c0153fe38177ee49-selected",current:"bitcoin-3d-c0153fe38177ee49-current"}},1176:function(e,t,n){e.exports={name:"bitcoin-3d-_4cbaa0cb251b0472-name",icon:"bitcoin-3d-_4cbaa0cb251b0472-icon","parent-hidden":"bitcoin-3d-_4cbaa0cb251b0472-parent-hidden"}},1132:function(e,t,n){e.exports={expanderIcon:"bitcoin-3d-_416d7cc466a707ce-expanderIcon",left16px:"bitcoin-3d-_416d7cc466a707ce-left16px",container:"bitcoin-3d-_416d7cc466a707ce-container",hide:"bitcoin-3d-_416d7cc466a707ce-hide",header:"bitcoin-3d-_416d7cc466a707ce-header",row:"bitcoin-3d-_416d7cc466a707ce-row"}},7935:function(e,t,n){e.exports={panel:"bitcoin-3d-_9a1a06825148df10-panel"}},2958:function(e,t,n){e.exports={color:"bitcoin-3d-_781beda975fff15e-color"}},4709:function(e,t,n){e.exports={panel:"bitcoin-3d-_5778aa8750d893cd-panel",propertyName:"bitcoin-3d-_5778aa8750d893cd-propertyName"}},7418:function(e,t,n){e.exports={box:"bitcoin-3d-_9e645cf57caa5280-box"}},8969:function(e,t,n){e.exports={root:"bitcoin-3d-_43828c53e11f52d5-root",title:"bitcoin-3d-_43828c53e11f52d5-title",materials:"bitcoin-3d-_43828c53e11f52d5-materials",material:"bitcoin-3d-_43828c53e11f52d5-material",active:"bitcoin-3d-_43828c53e11f52d5-active",properties:"bitcoin-3d-_43828c53e11f52d5-properties",bottom:"bitcoin-3d-_43828c53e11f52d5-bottom"}},975:function(e,t,n){e.exports={root:"bitcoin-3d-f3649cf328db1bed-root",expander:"bitcoin-3d-f3649cf328db1bed-expander",properties:"bitcoin-3d-f3649cf328db1bed-properties",image:"bitcoin-3d-f3649cf328db1bed-image"}},1868:function(e,t,n){e.exports={material:"bitcoin-3d-_2ac5c2bc69e315de-material"}},4009:function(e,t,n){e.exports={panel:"bitcoin-3d-_16bb4e210a011d49-panel"}},1503:function(e,t,n){e.exports={root:"bitcoin-3d-_01224db45e2b02a4-root",header:"bitcoin-3d-_01224db45e2b02a4-header",panel:"bitcoin-3d-_01224db45e2b02a4-panel",properties:"bitcoin-3d-_01224db45e2b02a4-properties"}},8930:function(e,t,n){e.exports={panel:"bitcoin-3d-e95e75a852eb7444-panel",title:"bitcoin-3d-e95e75a852eb7444-title",group:"bitcoin-3d-e95e75a852eb7444-group",button:"bitcoin-3d-e95e75a852eb7444-button",icon:"bitcoin-3d-e95e75a852eb7444-icon",input:"bitcoin-3d-e95e75a852eb7444-input",select:"bitcoin-3d-e95e75a852eb7444-select",materialButton:"bitcoin-3d-e95e75a852eb7444-materialButton"}},6608:function(e,t,n){e.exports={root:"bitcoin-3d-a1f93407f854e0cf-root",split:"bitcoin-3d-a1f93407f854e0cf-split",titleBar:"bitcoin-3d-a1f93407f854e0cf-titleBar",left:"bitcoin-3d-a1f93407f854e0cf-left",appIcon:"bitcoin-3d-a1f93407f854e0cf-appIcon",icon:"bitcoin-3d-a1f93407f854e0cf-icon",center:"bitcoin-3d-a1f93407f854e0cf-center",views:"bitcoin-3d-a1f93407f854e0cf-views",tab:"bitcoin-3d-a1f93407f854e0cf-tab",name:"bitcoin-3d-a1f93407f854e0cf-name",close:"bitcoin-3d-a1f93407f854e0cf-close",active:"bitcoin-3d-a1f93407f854e0cf-active",new:"bitcoin-3d-a1f93407f854e0cf-new",right:"bitcoin-3d-a1f93407f854e0cf-right",ribbonTitlePanel:"bitcoin-3d-a1f93407f854e0cf-ribbonTitlePanel",home:"bitcoin-3d-a1f93407f854e0cf-home",quickCommands:"bitcoin-3d-a1f93407f854e0cf-quickCommands",tabHeader:"bitcoin-3d-a1f93407f854e0cf-tabHeader",activedTab:"bitcoin-3d-a1f93407f854e0cf-activedTab",tabContentPanel:"bitcoin-3d-a1f93407f854e0cf-tabContentPanel",groupPanel:"bitcoin-3d-a1f93407f854e0cf-groupPanel",commandContextPanel:"bitcoin-3d-a1f93407f854e0cf-commandContextPanel",ribbonGroup:"bitcoin-3d-a1f93407f854e0cf-ribbonGroup",header:"bitcoin-3d-a1f93407f854e0cf-header",content:"bitcoin-3d-a1f93407f854e0cf-content"}},1752:function(e,t,n){e.exports={normal:"bitcoin-3d-_22dd51000e703ce8-normal",small:"bitcoin-3d-_22dd51000e703ce8-small",checked:"bitcoin-3d-_22dd51000e703ce8-checked",largeButtonText:"bitcoin-3d-_22dd51000e703ce8-largeButtonText",smallButtonText:"bitcoin-3d-_22dd51000e703ce8-smallButtonText",icon:"bitcoin-3d-_22dd51000e703ce8-icon",smallIcon:"bitcoin-3d-_22dd51000e703ce8-smallIcon"}},5692:function(e,t,n){e.exports={root:"bitcoin-3d-fd3d882d621755a8-root"}},7141:function(e,t,n){e.exports={container:"bitcoin-3d-_99d96288eb02a6ac-container"}},4714:function(e,t,n){e.exports={panel:"bitcoin-3d-a31a1d1ac116e370-panel",left:"bitcoin-3d-a31a1d1ac116e370-left",tip:"bitcoin-3d-a31a1d1ac116e370-tip",right:"bitcoin-3d-a31a1d1ac116e370-right"}},6278:function(e,t,n){e.exports={toast:"bitcoin-3d-_8478fd55a1e71fc6-toast",info:"bitcoin-3d-_8478fd55a1e71fc6-info",error:"bitcoin-3d-_8478fd55a1e71fc6-error",warning:"bitcoin-3d-_8478fd55a1e71fc6-warning"}},2573:function(e,t,n){e.exports={root:"bitcoin-3d-_681a31c0bce56834-root"}},1174:function(e,t,n){e.exports={panel:"bitcoin-3d-ad12af530995bdef-panel",error:"bitcoin-3d-ad12af530995bdef-error"}},8705:function(e,t,n){e.exports={tip:"bitcoin-3d-_2b24de4aeceaaf5c-tip",info:"bitcoin-3d-_2b24de4aeceaaf5c-info",warn:"bitcoin-3d-_2b24de4aeceaaf5c-warn",error:"bitcoin-3d-_2b24de4aeceaaf5c-error"}},3113:function(e,t,n){e.exports={root:"bitcoin-3d-_6a9e5885af8e2158-root",viewport:"bitcoin-3d-_6a9e5885af8e2158-viewport",hidden:"bitcoin-3d-_6a9e5885af8e2158-hidden"}},8022:function(e,t,n){e.exports={root:"bitcoin-3d-_6a24b1e3f181f1e2-root",actsContainer:"bitcoin-3d-_6a24b1e3f181f1e2-actsContainer",border:"bitcoin-3d-_6a24b1e3f181f1e2-border",acts:"bitcoin-3d-_6a24b1e3f181f1e2-acts",tools:"bitcoin-3d-_6a24b1e3f181f1e2-tools",viewControls:"bitcoin-3d-_6a24b1e3f181f1e2-viewControls",actived:"bitcoin-3d-_6a24b1e3f181f1e2-actived"}}}]);
//# sourceMappingURL=31.js.map